# Replication Code for "The Role of Personal Social Networks in Shaping Loneliness: A Study in Taiwan"

## 📄 Overview

This repository contains the replication code for the research titled "[The Role of Personal Social Networks in Shaping Loneliness: A Study in Taiwan](https://drive.google.com/file/d/1nq-U9RWkfP7OGr1EdVkf6-LYQQvZ90sE/view?usp=sharing)" by Wang, Shengfu (2022). This study employed ego-centric network analysis to investigate how various dimensions of personal social networks–such as social isolation, network size, density, tie strength, and composition–impact individuals’ loneliness.

## 🗂️ Data Requirements

To replicate the analysis in the paper, you will need the raw data from the *[2017 Taiwan Social Change Survey (Round 7, Year 3): Social Networks and Social Resources](https://srda.sinica.edu.tw/search/metadata/detail/C00339_2).* This data can be obtained from the [Taiwan Social Change Survey](https://www2.ios.sinica.edu.tw/sc/en/home2.php) and [SARDA](https://srda.sinica.edu.tw).


**Instructions:**

- Download the Stata data file.
- Save the downloaded `.dta` file in the `rawdata` folder within this repository.
- Ensure the file is named exactly as `tscs2017q2.dta`.

## 📊 Replication Steps

Once the data file is in place, you can run the replication scripts in the `code` folder to reproduce the results in the paper. 

**Instructions:**

- Step 1: Run `a_initialize.do` in Stata
- Step 2: Run `b_prepareData.do` in Stata 
- Step 3: Run `c_ego_level_statistics.do` in Stata
- Step 4: Run `c_ego_level_statistics.Rmd` in R
- Step 5: Run `d_analysis.do` in Stata  

## 📂 File Organization
- `code`: Contains all Stata and R scripts required for replication.
- `log`: Stores execution logs and output files. Each log file is named to correspond with its script.
- `output`: Holds all resulting figures and tables generated during the analysis.
- `rawdata`: Place the original dataset.
- `workdata`: Contains intermediate datasets generated by the scripts. This folder is initially empty and will be automatically populated as the scripts are executed.